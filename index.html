<!DOCTYPE html>

<html lang="en">
<head>
    <meta charset="utf-8">
    <title>My works</title>
    
    <!-- CSS -->
    <style>
        body {
            font-family: 'Avenir',　'Helvetica Neue',　'Helvetica',　'Arial',　'Hiragino Sans',　'ヒラギノ角ゴシック',　'メイリオ', Meiryo,　sans-serif;
        }
    </style>
</head>
<body>
    <!-- HTML -->
    <p>Hello world!</p>
    <div style="display:flex;" id="container">
        <div>
            <a href="https://magicet.github.io/gallery/works?file=colorful_star">
                <p>Colorful Star(test)</p>
            </a>
        </div>
    </div>
    <!-- JavaScript -->
    <script type="text/javascript">
        var works = ["colorful_star"]; 
        for (var i = 0; i < works.length; i++) {
            let request = new XMLHttpRequest();
            request.open('GET', './works/' + works[i] + '/info.json');
            request.responseType = 'json';
            request.send();
            request.onload = function() {
                const jsonData = request.response;
                console.log(jsonData);
                
                var content = document.createElement('div');
                content.class = "cell";
                
                var innerA = document.createElement('a');
                innerA.href = "https://magicet.github.io/gallery/works?file=" + works[i];
                
                var innerP = document.createElement('p');
                innerP.innerHTML = jsonData.name;
                
                var innerImage = document.createElement('img');
                innerImage.src = './works/' + works[i] + '/' + jsonData.image[0];
                innerImage.alt = jsonData.image[0];
                innerImage.title = jsonData.image[0];
                
                content.appendChild(innerA);
                innerA.appendChild(innerP);
                innerA.appendChild(innerImage);
                
                document.getElementById("container").appendChild(content); 
            };
        };
        function create() {
            var content = document.createElement('div');
            content.class = "cell";

            var innerA = document.createElement('a');
            innerA.href = "https://magicet.github.io/gallery/works?file=" + "colorful_star";

            var innerP = document.createElement('p');
            innerP.innerHTML = "Colorful Star";

            var innerImage = document.createElement('img');
            innerImage.src = './works/' + "colorful_star" + '/' + "retro_colorful_star.png";
            innerImage.alt = "retro_colorful_star.png";
            innerImage.title = "retro_colorful_star.png";

            content.appendChild(innerA);
            innerA.appendChild(innerP);
            innerA.appendChild(innerImage);

            document.getElementById("container").appendChild(content);
        };
        create()
    </script>
</body>

