<!DOCTYPE html>

<html lang="en">
<head>
    <meta charset="utf-8">
    <title>My works</title>
    
    <!-- CSS -->
    <style>
        body {
            background: silver;
            font-family: 'Avenir',　'Helvetica Neue',　'Helvetica',　'Arial',　'Hiragino Sans',　'ヒラギノ角ゴシック',　'メイリオ', Meiryo,　sans-serif;
            color: dimgray;
            margin: 0px;
        }
        #container {
            display:flex;
            flex-wrap:wrap;
            justify-content: space-between;
            align-items: flex-start;
            align-content: flex-start;
            
            background: white;
            border-left: 3px solid dimgray;
            border-right: 3px solid dimgray;
            margin: 0% 10% 0% 10%;
        }
        .cell {
            width: fit-content;
            height: fit-content;
            border: 3px solid dimgray;
            margin: 12px;
        }
        .cellLink {
            
        }
        .cellImage {
            border-bottom: 3px solid dimgray;
            height: 20%;
            padding: 6px;
            padding-bottom: -3px;
        }
        .cellP {
            width: fit-content;
            padding: 6px;
            padding-top: -3px;
        }
    </style>
</head>
<body>
    <!-- HTML -->
    <div id="container">
        
    </div>
    <!-- JavaScript -->
    <script type="text/javascript">
        var works = ["colorful_star", "colorful_star", "colorful_star", "colorful_star", "colorful_star"]; 
        for (var i = 0; i < works.length; i++) {
            var work = works[i]
            let request = new XMLHttpRequest();
            request.open('GET', './works/' + works[i] + '/info.json');
            request.responseType = 'json';
            request.send();
            request.onload = function() {
                const jsonData = request.response;
                console.log(jsonData);
                
                var content = document.createElement('div');
                content.className = "cell";
                
                var innerA = document.createElement('a');
                innerA.href = "https://magicet.github.io/gallery/works?file=" + work;
                innerA.className = "cellLink";
                
                var innerImage = document.createElement('img');
                innerImage.src = './works/' + work + '/' + jsonData.image[0];
                innerImage.alt = jsonData.image[0];
                innerImage.title = jsonData.image[0];
                innerImage.className = "cellImage";
                
                var innerP = document.createElement('p');
                innerP.innerHTML = jsonData.name;
                innerP.className = "cellP";
                
                content.appendChild(innerA);
                innerA.appendChild(innerImage);
                innerA.appendChild(innerP);
                
                document.getElementById("container").appendChild(content); 
            };
        };
    </script>
</body>

