<!DOCTYPE html>

<html lang="en">
<head>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Nunito:wght@500;700&family=Zen+Maru+Gothic:wght@500;700&display=swap" rel="stylesheet">
    
    <meta charset="utf-8">
    <title>My works</title>
    
    <!-- CSS -->
    <style>
        body {
            background: silver;
            font-family: 'Nunito', 'Zen Maru Gothic', sans-serif;
            color: dimgray;
            margin: 0px;
            font-weight: medium;
        }
        a {
            text-decoration: none;
            color: dimgray;
        }
        #container {
            display:flex;
            flex-wrap:wrap;
            justify-content: space-between;
            align-items: flex-start;
            align-content: flex-start;
            
            background: white;
            border-left: 2px solid dimgray;
            border-right: 2px solid dimgray;
            margin: 0% 10% 0% 10%;
        }
        .cell {
            width: fit-content;
            height: fit-content;
            border: 2px solid dimgray;
            margin: 12px;
        }
        .cellLink {
            background: white;
            color: dimgray;
        }
        .cellLink:hover {
            background: dimgray;
            color:white;
        }
        .cellImage {
            border-bottom: 2px solid dimgray;
            height: 20%;
            padding: 6px;
        }
        .cellP {
            width: fit-content;
            margin: -3px 3px 3px 3px;
        }
        .header {
            background: white;
            border-bottom: 2px solid dimgray;
        }
        .headline {
            text-align: center;
            font-weight: bold;
        }
    </style>
</head>
<body>
    <!-- HTML -->
    <header>
      <h1 class="headline">
        <a href="https://magicet.github.io/gallery/">Meteor's works</a>
      </h1>
    </header>
    
    <div id="container">
        
    </div>
    <!-- JavaScript -->
    <script type="text/javascript">
        var works = ["colorful_star", "colorful_star", "colorful_star", "colorful_star", "colorful_star"]; 
        for (var i = 0; i < works.length; i++) {
            var work = works[i]
            let request = new XMLHttpRequest();
            request.open('GET', './works/' + works[i] + '/info.json');
            request.responseType = 'json';
            request.send();
            request.onload = function() {
                const jsonData = request.response;
                console.log(jsonData);
                
                var content = document.createElement('div');
                content.className = "cell";
                
                var innerA = document.createElement('a');
                innerA.href = "https://magicet.github.io/gallery/works?file=" + work;
                innerA.className = "cellLink";
                
                var innerImage = document.createElement('img');
                innerImage.src = './works/' + work + '/' + jsonData.image[0];
                innerImage.alt = jsonData.image[0];
                innerImage.title = jsonData.image[0];
                innerImage.className = "cellImage";
                
                var innerP = document.createElement('p');
                innerP.innerHTML = jsonData.name;
                innerP.className = "cellP";
                
                content.appendChild(innerA);
                innerA.appendChild(innerImage);
                innerA.appendChild(innerP);
                
                document.getElementById("container").appendChild(content); 
            };
        };
    </script>
</body>

